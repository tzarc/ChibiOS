<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
    <extension
         id="org.chibios.spc5.components.stm32f4xx.startup"
         name="ChibiOS STM32F4xx Startup Component"
         point="com.st.tools.spc5.extension.v1">
        <component
              headerName="cmparams.h"
              icon="rsc/chibios.ico"
              isPlatform="true">
            <description>
                Startup and build support for STM32F4xx.
            </description>
            <categories>
               <category
                     id="ChibiOS/Startup Components/ARM Cortex-Mx">
               </category>
            </categories>
            <configuration>
                <description>
                  STM32F4xx startup options and settings.
                </description>
               <image
                     align="left"
                     file="rsc/chibios48x48.png">
                  <text>
                     ChibiOS is GPL3-licensed free software.
                  </text>
               </image>
                <group
                     name="Device Settings">
                   <description>
                     Device-related settings.
                   </description>
                   <property
                        brief="Specific STM32F4xx model, the setting affects memory sizes in the linker script."
                        default="2"
                        name="Specific Model"
                        editable="true"
                        required="true"
                        type="enum"
                        value="STM32F405xx,STM32F415xx,STM32F407xx,STM32F417xx,STM32F427xx,STM32F437xx,STM32F429xx,STM32F439xx,STM32F401xC,STM32F401xE,STM32F411xE,STM32F446xx,STM32F469xx,STM32F479xx">
                   </property>
                </group>
                <group
                      name="Runtime Settings">
                   <description>
                      Runtime-related settings.
                   </description>
                   <property
                         brief="IRQ and Exceptions stack size."
                         default="2048"
                         editable="true"
                         name="IRQ Stack Size"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="C runtime stack size."
                         default="2048"
                         editable="true"
                         name="C Stack Size"
                         required="true"
                         type="unsigned">
                   </property>
                </group>
                <group
                      columns="3"
                      name="Memory Layout Settings">
                   <description>
                      Flash/RAM/external memory areas organization.
                   </description>
                   <property
                         brief="Memory address of flash area 0."
                         default="0x8000000"
                         editable="true"
                         name="Flash 0 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of flash area 0."
                         default="1024"
                         editable="true"
                         name="Flash 0 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         default="Main Flash"
                         editable="true"
                         name="Flash 0 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of flash area 1."
                         default="0"
                         editable="true"
                         name="Flash 1 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of flash area 1."
                         default="0"
                         editable="true"
                         name="Flash 1 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="Flash 1 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of flash area 2."
                         default="0"
                         editable="true"
                         name="Flash 2 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of flash area 2."
                         default="0"
                         editable="true"
                         name="Flash 2 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="Flash 2 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of flash area 3."
                         default="0"
                         editable="true"
                         name="Flash 3 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of flash area 3."
                         default="0"
                         editable="true"
                         name="Flash 3 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="Flash 3 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of flash area 4."
                         default="0"
                         editable="true"
                         name="Flash 4 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of flash area 4."
                         default="0"
                         editable="true"
                         name="Flash 4 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="Flash 4 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of flash area 5."
                         default="0"
                         editable="true"
                         name="Flash 5 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of flash area 5."
                         default="0"
                         editable="true"
                         name="Flash 5 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="Flash 5 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of flash area 6."
                         default="0"
                         editable="true"
                         name="Flash 6 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of flash area 6."
                         default="0"
                         editable="true"
                         name="Flash 6 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="Flash 6 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of flash area 7."
                         default="0"
                         editable="true"
                         name="Flash 7 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of flash area 7."
                         default="0"
                         editable="true"
                         name="Flash 7 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="Flash 7 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of RAM area 0."
                         default="0x20000000"
                         editable="true"
                         name="RAM 0 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of RAM area 0."
                         default="128"
                         editable="true"
                         name="RAM 0 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         default="SRAM"
                         editable="true"
                         name="RAM 0 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of RAM area 1."
                         default="0"
                         editable="true"
                         name="RAM 1 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of RAM area 1."
                         default="0"
                         editable="true"
                         name="RAM 1 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="RAM 1 Info"
                         required="false"
                         type="string">
                   </property>
                     <property
                         brief="Memory address of RAM area 2."
                         default="0"
                         editable="true"
                         name="RAM 2 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of RAM area 2."
                         default="0"
                         editable="true"
                         name="RAM 2 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="RAM 2 Info"
                         required="false"
                         type="string">
                   </property>
                    <property
                         brief="Memory address of RAM area 3."
                         default="0"
                         editable="true"
                         name="RAM 3 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of RAM area 3."
                         default="0"
                         editable="true"
                         name="RAM 3 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="RAM 3 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of RAM area 4."
                         default="0x10000000"
                         editable="true"
                         name="RAM 4 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of RAM area 4."
                         default="16"
                         editable="true"
                         name="RAM 4 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         default="CCM SRAM"
                         editable="true"
                         name="RAM 4 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of RAM area 5."
                         default="0x40024000"
                         editable="true"
                         name="RAM 5 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of RAM area 5."
                         default="4"
                         editable="true"
                         name="RAM 5 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         default="Backup SRAM"
                         editable="true"
                         name="RAM 5 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of RAM area 6."
                         default="0"
                         editable="true"
                         name="RAM 6 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of RAM area 6."
                         default="0"
                         editable="true"
                         name="RAM 6 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="RAM 6 Info"
                         required="false"
                         type="string">
                   </property>
                   <property
                         brief="Memory address of RAM area 7."
                         default="0"
                         editable="true"
                         name="RAM 7 address"
                         required="true"
                         type="unsigned">
                   </property>
                   <property
                         brief="Memory size of RAM area 7."
                         default="0"
                         editable="true"
                         name="RAM 7 size"
                         required="true"
                         type="unsigned">
                      <metadata
                            class="com.st.tools.spc5.extensions.UnitHandler"
                            name="Memory Unit"
                            value="kB,MB,B">
                      </metadata>
                   </property>
                   <property
                         brief="Area brief description."
                         editable="true"
                         name="RAM 7 Info"
                         required="false"
                         type="string">
                   </property>
                </group>
                <group
                     name="Build Settings">
                    <description>
                     Compiler related options and switches.
                    </description>
                    <property
                        brief="Application binaries base name."
                        default="out"
                        name="Application Name"
                        editable="true"
                        length="16"
                        regex="[a-zA-Z_]+"
                        required="true"
                        type="string">
                    </property>
                    <property
                          brief="GCC prefix string, this string can be different in different GCC-based compilers."
                          default="0"
                          editable="false"
                          name="Compiler Variant"
                          required="true"
                          type="enum"
                          value="arm-none-eabi-">
                    </property>
                    <property
                        brief="GCC optimization level, this setting affects code size and execution speed. It is recommended to use -O0 during debug."
                        default="3"
                        name="Optimization Level"
                        editable="true"
                        required="true"
                        type="enum"
                        value="-O0,-Os,-O1,-O2,-O3">
                    </property>
                    <property
                        brief="Enables the Cortex-M4 internal FPU."
                        default="0"
                        name="Enable FPU"
                        editable="true"
                        required="true"
                        type="enum"
                        value="no,softfp,hardfp">
                    </property>
                    <property
                        brief="Common options to be passed to both the C and C++ compilers."
                        default="-ggdb -fomit-frame-pointer -falign-functions=16"
                        name="Common Options"
                        editable="true"
                        required="false"
                        type="string">
                    </property>
                    <property
                          brief="Options for the C modules only."
                          editable="true"
                          name="C Options"
                          required="false"
                          type="string">
                    </property>
                    <property
                          brief="Options for the C++ modules only."
                          default="-fno-rtti -fno-exceptions"
                          editable="true"
                          name="CPP Options"
                          required="false"
                          type="string">
                    </property>
                    <property
                        brief="Enables garbage collection of unused memory objects."
                        default="0"
                        name="Use Linker GC"
                        editable="true"
                        required="true"
                        type="enum"
                        value="yes,no">
                    </property>
                    <property
                          brief="Enables Link Time Optimizations. This can result in smaller and faster code."
                          default="0"
                          editable="true"
                          name="Use LTO"
                          required="true"
                          type="enum"
                          value="yes,no">
                    </property>
                    <property
                        brief="Enables a verbose build log instead of the simplified one."
                        default="1"
                        name="Use Verbose Compile"
                        editable="true"
                        required="true"
                        type="enum"
                        value="yes,no">
                    </property>
                </group>
            </configuration>
            <exportedFeatures>
               <exportedFeature
                     brief="This feature declares a GCC build environment for the project."
                     exclusive="false"
                     id="com.st.tools.spc5.features.build.gccenv">
               </exportedFeature>
               <exportedFeature
                     brief="This feature declares an Cortex-Mx based project."
                     exclusive="false"
                     id="com.st.tools.spc5.features.platform.arm.cortex.mx">
               </exportedFeature>
               <exportedFeature
                     brief="This feature declares an Cortex-M4 based project."
                     exclusive="false"
                     id="com.st.tools.spc5.features.platform.arm.cortex.m4">
               </exportedFeature>
               <exportedFeature
                     brief="This feature declares an STM32F4xx based project."
                     exclusive="false"
                     id="com.st.tools.spc5.features.platform.stm32f4xx">
               </exportedFeature>
            </exportedFeatures>
        </component>
    </extension>
</plugin>
